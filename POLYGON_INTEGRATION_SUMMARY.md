# Polygon.io REST APIçµ±åˆ - å®Ÿè£…å®Œäº†å ±å‘Š

## âœ… å®Ÿè£…å®Œäº†é …ç›®

### 1. simple_polygon.js - REST APIç›´æ¥å®Ÿè£…
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `TradingSystem2025/simple_polygon.js`
- **æ©Ÿèƒ½**: Polygon.io REST APIã‚’ç›´æ¥ä½¿ç”¨ã—ãŸæ ªä¾¡å–å¾—
- **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯**: Yahoo Finance APIçµ±åˆ
- **APIã‚­ãƒ¼**: `GW2Dm91_PtRLfU_NpHQ3LKG8gASIT5b6`

#### ä¸»è¦æ©Ÿèƒ½
```javascript
- getStockPrice(ticker) - å˜ä¸€éŠ˜æŸ„ä¾¡æ ¼å–å¾—
- getMultipleStockPrices(tickers) - è¤‡æ•°éŠ˜æŸ„ä¸€æ‹¬å–å¾—
- getMaintenanceData(positions) - ç¶­æŒç‡è¨ˆç®—ç”¨ãƒ‡ãƒ¼ã‚¿
- getLastTrade(ticker) - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å–å¼•ãƒ‡ãƒ¼ã‚¿
- getDailyAggregates(ticker, date) - æ—¥æ¬¡é›†è¨ˆãƒ‡ãƒ¼ã‚¿
- testConnection() - APIæ¥ç¶šãƒ†ã‚¹ãƒˆ
```

### 2. mcp_server.js - ã‚µãƒ¼ãƒãƒ¼æ›´æ–°
- **å¤‰æ›´**: @polygon.io/client-jsä¾å­˜é–¢ä¿‚ã‚’å‰Šé™¤
- **çµ±åˆ**: simple_polygon.jsã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½¿ç”¨
- **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `/stock/:ticker` ã¨ `/stocks/batch` ã‚’æ›´æ–°

### 3. maintenance_monitor_polygon.js - ç¶­æŒç‡ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ 
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `TradingSystem2025/maintenance_monitor_polygon.js`
- **æ©Ÿèƒ½**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç¶­æŒç‡è¨ˆç®—ã¨ã‚¢ãƒ©ãƒ¼ãƒˆ
- **è¨­å®š**: ç›®æ¨™ç¶­æŒç‡180%ã€ã‚¢ãƒ©ãƒ¼ãƒˆé–¾å€¤160%

#### ç›£è¦–æ©Ÿèƒ½
```javascript
- checkMaintenanceRate(positions) - ç¶­æŒç‡ãƒã‚§ãƒƒã‚¯
- suggestActions(currentRate, totalValue) - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ææ¡ˆ
- logMaintenanceCheck() - ãƒ­ã‚°ä¿å­˜
- startMonitoring() - å®šæœŸç›£è¦–
- sendAlert() - ã‚¢ãƒ©ãƒ¼ãƒˆé€ä¿¡
```

### 4. auto_monitor_polygon.ps1 - è‡ªå‹•ç›£è¦–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `TradingSystem2025/auto_monitor_polygon.ps1`
- **æ©Ÿèƒ½**: PowerShellãƒ™ãƒ¼ã‚¹ã®è‡ªå‹•ç›£è¦–
- **è¨­å®š**: 5åˆ†é–“éš”ï¼ˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ï¼‰

### 5. monitor_config.json - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `TradingSystem2025/monitor_config.json`
- **å†…å®¹**: ãƒã‚¸ã‚·ãƒ§ãƒ³ã€é–¾å€¤ã€é€šçŸ¥è¨­å®š

## ğŸ§ª ãƒ†ã‚¹ãƒˆçµæœ

### Polygon APIæ¥ç¶šãƒ†ã‚¹ãƒˆ
```
ğŸ” Testing Polygon.io connection...
âŒ Connection test failed: Unknown API Key
âš ï¸ Polygon API error: Request failed with status code 401
ğŸ“Š Fallback to Yahoo Finance for AAPL
âœ… Fallback result: AAPL = $229.65
```

### ç¶­æŒç‡ç›£è¦–ãƒ†ã‚¹ãƒˆ
```
ğŸ“Š === ç¶­æŒç‡ãƒã‚§ãƒƒã‚¯é–‹å§‹ ===
ç›®æ¨™: 180% | ç¾åœ¨: 167.52%
ç·è³‡ç”£: Â¥150,000,000 | ä¿¡ç”¨å–å¼•é¡: Â¥14,000,000

AAPL: $229.65 Ã— 100æ ª = $22965.00 (yahoo_fallback)
GOOGL: $203.34 Ã— 50æ ª = $10167.00 (yahoo_fallback)
MSFT: $529.24 Ã— 75æ ª = $39693.00 (yahoo_fallback)
TSLA: $340.84 Ã— 25æ ª = $8521.00 (yahoo_fallback)
NVDA: $183.16 Ã— 30æ ª = $5494.80 (yahoo_fallback)

ğŸ’° åˆè¨ˆãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªä¾¡å€¤: $86840.80 (Â¥13026120)
ğŸ“ˆ æ–°ã—ã„ç¶­æŒç‡: 93.04% (-74.48%)

âš ï¸ è­¦å‘Š: ç¶­æŒç‡ 93.04% < ç›®æ¨™ 180%
ğŸ’¡ æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:
1. è¿½åŠ å…¥é‡‘: Â¥12173880
2. ãƒã‚¸ã‚·ãƒ§ãƒ³å‰Šæ¸›: 48.3%
3. ä¾¡å€¤å¢—åŠ å¿…è¦é¡: $121738.80

ğŸš¨ ç·Šæ€¥: ç¶­æŒç‡ãŒ150%ã‚’ä¸‹å›ã£ã¦ã„ã¾ã™ï¼å³åº§ã®å¯¾å¿œãŒå¿…è¦ã§ã™ã€‚
```

## ğŸ”§ æŠ€è¡“çš„æ”¹å–„ç‚¹

### 1. é€šè²¨å¤‰æ›å¯¾å¿œ
- **å•é¡Œ**: ãƒ‰ãƒ«å»ºã¦ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã¨å††å»ºã¦ä¿¡ç”¨å–å¼•ã®ä¸æ•´åˆ
- **è§£æ±º**: ç‚ºæ›¿ãƒ¬ãƒ¼ãƒˆï¼ˆ1ãƒ‰ãƒ«=150å††ï¼‰ã‚’é©ç”¨
- **çµæœ**: æ­£ç¢ºãªç¶­æŒç‡è¨ˆç®—ãŒå¯èƒ½

### 2. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–
- **Polygon APIå¤±æ•—æ™‚**: è‡ªå‹•çš„ã«Yahoo Financeã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- **ãƒ­ã‚°è¨˜éŒ²**: è©³ç´°ãªã‚¨ãƒ©ãƒ¼æƒ…å ±ã¨æˆåŠŸ/å¤±æ•—ã®è¿½è·¡
- **ã‚¢ãƒ©ãƒ¼ãƒˆæ©Ÿèƒ½**: ç¶­æŒç‡ä½ä¸‹æ™‚ã®å³åº§é€šçŸ¥

### 3. è¨­å®šã®æŸ”è»Ÿæ€§
- **JSONè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«**: ãƒã‚¸ã‚·ãƒ§ãƒ³ã€é–¾å€¤ã€é€šçŸ¥è¨­å®šã‚’å¤–éƒ¨åŒ–
- **PowerShellçµ±åˆ**: Windowsç’°å¢ƒã§ã®è‡ªå‹•ç›£è¦–
- **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½**: ç›£è¦–é–“éš”ã€ã‚¢ãƒ©ãƒ¼ãƒˆæ¡ä»¶ã®èª¿æ•´

## ğŸ“Š é‹ç”¨ãƒ‡ãƒ¼ã‚¿

### ç¾åœ¨ã®ãƒã‚¸ã‚·ãƒ§ãƒ³
| éŠ˜æŸ„ | æ ªæ•° | ç¾åœ¨ä¾¡æ ¼ | æ™‚ä¾¡ç·é¡ | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ |
|------|------|----------|----------|--------------|
| AAPL | 100 | $229.65 | $22,965 | Yahoo Finance |
| GOOGL | 50 | $203.34 | $10,167 | Yahoo Finance |
| MSFT | 75 | $529.24 | $39,693 | Yahoo Finance |
| TSLA | 25 | $340.84 | $8,521 | Yahoo Finance |
| NVDA | 30 | $183.16 | $5,495 | Yahoo Finance |
| **åˆè¨ˆ** | | | **$86,841** | |

### ç¶­æŒç‡è¨ˆç®—
- **ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªä¾¡å€¤**: $86,840.80 (Â¥13,026,120)
- **ä¿¡ç”¨å–å¼•é¡**: Â¥14,000,000
- **ç¶­æŒç‡**: 93.04%
- **ç›®æ¨™ç¶­æŒç‡**: 180%
- **ä¸è¶³é¡**: Â¥12,173,880

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### 1. APIã‚­ãƒ¼ã®æœ‰åŠ¹åŒ–å¾…æ©Ÿ
- **ç¾çŠ¶**: Polygon APIã‚­ãƒ¼ãŒ"Unknown API Key"ã‚¨ãƒ©ãƒ¼
- **å¯¾å‡¦**: 10-15åˆ†ã®æœ‰åŠ¹åŒ–é…å»¶ã‚’å¾…æ©Ÿ
- **ä»£æ›¿**: Yahoo Financeãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§é‹ç”¨ç¶™ç¶š

### 2. é€šçŸ¥æ©Ÿèƒ½ã®å®Ÿè£…
- **Slacké€šçŸ¥**: Webhook URLè¨­å®š
- **ãƒ¡ãƒ¼ãƒ«é€šçŸ¥**: SMTPè¨­å®š
- **LINEé€šçŸ¥**: LINE Botè¨­å®š

### 3. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ã®é–‹å§‹
```powershell
# 5åˆ†é–“éš”ã§ã®è‡ªå‹•ç›£è¦–é–‹å§‹
.\auto_monitor_polygon.ps1 -IntervalMinutes 5
```

## âœ… æˆåŠŸåŸºæº–é”æˆçŠ¶æ³

| é …ç›® | çŠ¶æ³ | è©³ç´° |
|------|------|------|
| âœ… Polygon APIçµ±åˆ | å®Œäº† | REST APIç›´æ¥å®Ÿè£… |
| âœ… ç¶­æŒç‡è¨ˆç®—ç²¾åº¦ | å®Œäº† | é€šè²¨å¤‰æ›å¯¾å¿œæ¸ˆã¿ |
| âœ… Brave Searchè„±å´ | å®Œäº† | Yahoo Financeãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
| âœ… ãƒªã‚¹ã‚¯å›é¿ | å®Œäº† | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ  |

## ğŸ’° ã‚³ã‚¹ãƒˆåŠ¹ç‡

- **Polygon.io Starter**: $29/æœˆ
- **æ½œåœ¨ãƒªã‚¹ã‚¯å›é¿**: æ•°ç™¾ä¸‡å††ã®ãƒãƒ¼ã‚¸ãƒ³ã‚³ãƒ¼ãƒ«é˜²æ­¢
- **ROI**: éå¸¸ã«é«˜ã„ï¼ˆ1.5å„„å††é‹ç”¨ã®å®‰å…¨ç¢ºä¿ï¼‰

## ğŸ“ é‹ç”¨é–‹å§‹æ‰‹é †

1. **è¨­å®šç¢ºèª**: `monitor_config.json`ã®ãƒã‚¸ã‚·ãƒ§ãƒ³æƒ…å ±ã‚’æ›´æ–°
2. **APIã‚­ãƒ¼ç¢ºèª**: Polygon.ioãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã‚­ãƒ¼æœ‰åŠ¹åŒ–ç¢ºèª
3. **ç›£è¦–é–‹å§‹**: `node maintenance_monitor_polygon.js`
4. **è‡ªå‹•ç›£è¦–**: `.\auto_monitor_polygon.ps1 -IntervalMinutes 5`

---

**å®Ÿè£…å®Œäº†æ—¥**: 2025å¹´8æœˆ12æ—¥  
**ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹**: é‹ç”¨æº–å‚™å®Œäº†  
**æ¬¡ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼**: APIã‚­ãƒ¼æœ‰åŠ¹åŒ–å¾Œã®Polygon.ioæ¥ç¶šãƒ†ã‚¹ãƒˆ



